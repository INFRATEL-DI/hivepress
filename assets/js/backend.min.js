!function(e){"use strict";function t(e){return".hp-js-"+e}function n(n){return e(t(n))}e(document).on("click",t("link"),function(t){var n=e(this),i=[];void 0!==n.data("type")&&(i=n.data("type").split(" ")),i.includes("remove")&&n.parent().remove(),t.preventDefault()}),n("field").each(function(){var t=e(this);if(t.data("parent")){var n=null,i=null;"object"==typeof t.data("parent")?e.each(t.data("parent"),function(t,a){n=e('[name="'+t+'"]'),i=a}):n=e('[name="'+t.data("parent")+'"]'),null!==n&&n.length&&(n.is(":checked")||n.val()===i||-1!==e.inArray(n.val(),i)||t.closest("tr").hide(),n.on("change",function(){n.is(":checked")||n.val()===i||-1!==e.inArray(n.val(),i)?t.closest("tr").show():t.closest("tr").hide()}))}}),n("file-select").each(function(){var t=e(this),n=t.parent().children("div").clone();t.on("click",function(i){var a=wp.media({title:t.text(),button:{text:t.text()},library:{type:["image"]},multiple:!1});a.on("select",function(){var i=a.state().get("selection").first().toJSON();n.find("img").remove(),e("<img />").attr("src",i.url).prependTo(n),t.parent().children("div").remove(),n.prependTo(t.parent()),n.find('input[type="hidden"]').val(i.id)}),a.open(),i.preventDefault()})})}(jQuery);