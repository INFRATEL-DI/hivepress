var hivepress={getSelector:function(e){return"[data-component="+e+"]"},getComponent:function(e){return jQuery(this.getSelector(e))}};!function(e){"use strict";e(document).ready(function(){hivepress.getComponent("link").on("click",function(t){var a=e(this).data("url");0!==a.indexOf("#")&&(window.location.href=a),t.preventDefault()}),hivepress.getComponent("select").each(function(){var t=e(this),a={width:"100%",dropdownAutoWidth:!1,minimumResultsForSearch:20,templateResult:function(t){var a=t.text,r=0;return t.element&&(r=parseInt(e(t.element).data("level")),a=e("<div />").css("padding-left",20*r+"px").text(a)),a}};"inline"===t.data("style")&&e.extend(a,{containerCssClass:"select2-selection--inline",dropdownCssClass:"select2-dropdown--inline",width:"resolve",dropdownAutoWidth:!0,minimumResultsForSearch:-1}),t.select2(a)}),flatpickr.l10ns.hasOwnProperty(hivepressCoreData.language)&&flatpickr.localize(flatpickr.l10ns[hivepressCoreData.language]),hivepress.getComponent("date").each(function(){var t=e(this),a={altInput:!0,dateFormat:"Y-m-d"};if(t.data("format")&&(a.dateFormat=t.data("format")),t.data("display-format")&&(a.altFormat=t.data("display-format")),t.data("min-date")&&(a.minDate=t.data("min-date")),t.data("max-date")&&(a.maxDate=t.data("max-date")),t.data("mode")&&(a.mode=t.data("mode"),"range"===t.data("mode"))){var r=t.parent().find("input[type=hidden]").not(t);e.extend(a,{defaultDate:[r.eq(0).val(),r.eq(1).val()],errorHandler:function(e){},onChange:function(e){var t=e.map(function(e){return flatpickr.formatDate(e,a.dateFormat)});2===t.length&&(r.eq(0).val(t[0]),r.eq(1).val(t[1]))}})}t.flatpickr(a)}),hivepress.getComponent("file-upload").each(function(){var t=e(this),a=t.closest("form"),r=t.closest("label"),n=r.find("button").first(),o=r.parent().find(hivepress.getSelector("messages")).first(),i=r.parent().children("div").first();a.data("model")||(a=t.closest("table")),t.fileupload({url:t.data("url"),dataType:"json",paramName:"file",formData:{parent_model:a.data("model"),parent_field:t.data("name"),parent:a.data("id"),render:!0,_wpnonce:hivepressCoreData.apiNonce},start:function(){t.prop("disabled",!0),n.prop("disabled",!0),n.attr("data-state","loading"),o.hide().html("")},stop:function(){t.prop("disabled",!1),n.prop("disabled",!1),n.attr("data-state","")},always:function(a,r){var n=r.jqXHR.responseJSON;n.hasOwnProperty("data")?t.prop("multiple")?i.append(n.data.html):i.html(n.data.html):n.hasOwnProperty("error")&&(n.error.hasOwnProperty("errors")?e.each(n.error.errors,function(e,t){o.append("<div>"+t.message+"</div>")}):n.error.hasOwnProperty("message")&&o.html("<div>"+n.error.message+"</div>"),o.is(":empty")||o.show())}})}),e(document).on("click",hivepress.getSelector("file-delete"),function(t){var a=e(this).parent();e.ajax({url:e(this).data("url"),method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)}}),a.remove(),t.preventDefault()})})}(jQuery);
