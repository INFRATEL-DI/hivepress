var hivepress={getSelector:function(t){return".hp-js-"+t},getObject:function(t){return jQuery(this.getSelector(t))}};!function(t){"use strict";t.fn.serializeObject=function(e){var a=t.extend(!0,{},e);return t.each(this.serializeArray(),function(){if("]"==this.name.slice(-1)){var t=this.name.split("[")[0];e.hasOwnProperty(t)&&(t="parent_"+t),a.hasOwnProperty(t)||(a[t]=[]),a[t].push(this.value)}else e.hasOwnProperty(this.name)?a["parent_"+this.name]=this.value:a[this.name]=this.value}),a},t(document).on("click",hivepress.getSelector("link"),function(e){var a=t(this),s=[];if(void 0!==a.data("type")&&(s=a.data("type").split(" ")),s.includes("popup")){var r=a.attr("href");a.is("a")||(r=a.data("url")),t.fancybox.close(),t.fancybox.open({src:r})}else if(s.includes("ajax")){if(a.data("name")){var i=a.attr("data-name");a.attr("data-name",a.attr("title")),a.attr("title",i),"active"!=a.attr("data-state")?a.attr("data-state","active"):a.attr("data-state","")}t.post(hpCoreData.ajaxurl,a.data("json"))}else a.is("a")||(window.location.href=a.data("url"));s.includes("remove")&&a.parent().remove(),e.preventDefault()}),hivepress.getObject("slider").each(function(){var e=t(this);if("gallery"==e.data("type")){var a=e.find("img"),s=a.wrap("<div />").parent().wrapAll("<div />").parent(),r=s.clone(),i="";a.length>1&&(e.html(""),s.appendTo(e),r.appendTo(e).hide(),t.each(e.attr("class").split(/\s+/),function(t,e){e.match(/^hp-/)&&!e.match(/^hp-js-/)&&(i=e)}),s.addClass(i+"-image").slick({slidesToShow:1,slidesToScroll:1,infinite:!1,arrows:!1,asNavFor:r}),t(window).load(function(){r.addClass(i+"-nav").show().slick({slidesToShow:Math.round(e.width()/125),slidesToScroll:1,infinite:!1,prevArrow:'<a href="#" class="slick-arrow slick-prev"><i class="fas fa-chevron-left"></i></a>',nextArrow:'<a href="#" class="slick-arrow slick-next"><i class="fas fa-chevron-right"></i></a>',focusOnSelect:!0,asNavFor:s})}))}}),hivepress.getObject("form").each(function(){var e=t(this),a=[];if(void 0!==e.data("type")&&(a=e.data("type").split(" ")),a.includes("autosubmit")&&e.on("change",function(){e.submit()}),a.includes("ajax")){var s=e.find(hivepress.getSelector("messages")),r=e.find(".g-recaptcha"),i=t(".g-recaptcha").index(r.get(0)),n=e.find('input[type="submit"]');e.on("submit",function(o){if(n.data("name")){var l=n.attr("data-name");n.attr("data-name",n.val()),n.val(l),"active"!=n.attr("data-state")?n.attr("data-state","active"):n.attr("data-state","")}else n.prop("disabled",!0);t.post(hpCoreData.ajaxurl,e.serializeObject({}),function(o){o.hasOwnProperty("status")&&(o.hasOwnProperty("redirect")?"boolean"==typeof o.redirect?window.location.reload(!0):window.location.replace(o.redirect):(n.prop("disabled",!1),"undefined"!=typeof grecaptcha&&r.length&&grecaptcha.reset(i),"success"==o.status&&a.includes("reset")&&e.trigger("reset"),s.html(o.messages),e.offset().top<t(window).scrollTop()&&t("html, body").animate({scrollTop:e.offset().top},500)))}),o.preventDefault()})}}),hivepress.getObject("file-upload").each(function(){var e=t(this),a=e.closest("form"),s=e.closest("label"),r=s.find("button").first(),i=t("<div />").insertBefore(s),n=s.parent().children("div").first();e.fileupload({url:hpCoreData.ajaxurl,dataType:"json",formData:a.serializeObject(e.data("json")),start:function(){e.prop("disabled",!0),r.prop("disabled",!0)},stop:function(){e.prop("disabled",!1),r.prop("disabled",!1)},done:function(t,a){a.result.hasOwnProperty("status")&&(i.html(a.result.messages),""!=a.result.response&&(e.prop("multiple")?n.append(a.result.response):n.html(a.result.response)))}})}),hivepress.getObject("sortable").each(function(){var e=t(this),a=e.closest("form");e.sortable({stop:function(){e.children().length>1&&t.post(hpCoreData.ajaxurl,a.serializeObject(e.data("json")))}})}),t(window).load(function(){hivepress.getObject("sticky").each(function(){var e=t(this);e.wrapInner("<div />"),e.children("div").stickySidebar({topSpacing:30,bottomSpacing:30})})})}(jQuery);
