!function(e){"use strict";e(document).ready(function(){hivepress.getComponent("modal").each(function(){var t="#"+e(this).attr("id");e("a[href="+t+"], button[data-url="+t+"]").on("click",function(a){e.fancybox.close(),e.fancybox.open({src:t}),a.preventDefault()})}),hivepress.getComponent("link").on("click",function(t){var a=e(this).data("url");a.startsWith("#")||(window.location.href=a),t.preventDefault()}),hivepress.getComponent("form").each(function(){var t=e(this),a=t.find("[data-component=messages]"),r=a.attr("class").split(" ")[0],n=t.find(".g-recaptcha"),o=e(".g-recaptcha").index(n.get(0)),i=t.find(":submit");!0===t.data("submit")&&t.on("change",function(){t.submit()}),t.on("submit",function(s){a.hide().html("").removeClass(r+"--success "+r+"--error"),i.prop("disabled",!0),i.attr("data-state","loading"),t.data("action")&&(e.ajax({url:t.data("action"),method:t.data("method")?t.data("method"):t.attr("method"),data:t.serializeJSON(),beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)},complete:function(s){var d=s.responseJSON;i.prop("disabled",!1),i.attr("data-state",""),"undefined"!=typeof grecaptcha&&n.length&&grecaptcha.reset(o),null===d||d.hasOwnProperty("data")?(t.data("message")&&a.addClass(r+"--success").html("<div>"+t.data("message")+"</div>").show(),t.data("redirect")?!0===t.data("redirect")?window.location.reload(!0):window.location.replace(t.data("redirect")):t.is("[data-id]")||t.trigger("reset")):d.hasOwnProperty("error")&&(d.error.hasOwnProperty("errors")?e.each(d.error.errors,function(e,t){a.append("<div>"+t.message+"</div>")}):d.error.hasOwnProperty("message")&&a.html("<div>"+d.error.message+"</div>"),a.is(":empty")||a.addClass(r+"--error").show()),a.is(":visible")&&t.offset().top<e(window).scrollTop()&&e("html, body").animate({scrollTop:t.offset().top},500)}}),s.preventDefault())})}),hivepress.getComponent("toggle").each(function(){var t=e(this);t.on("click",function(a){var r=t.attr("data-caption"),n=t.find("span");n.length?(t.attr("data-caption",n.text()),n.text(r)):(t.attr("data-caption",t.attr("title")),t.attr("title",r)),"active"!==t.attr("data-state")?t.attr("data-state","active"):t.attr("data-state",""),e.ajax({url:t.data("url"),method:"POST",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)}}),a.preventDefault()})}),hivepress.getComponent("file-upload").each(function(){var t=e(this),a=t.closest("label"),r=a.find("button").first(),n=(e("<div />").insertBefore(a),a.parent().children("div").first());t.fileupload({url:t.data("url"),dataType:"json",paramName:"file",formData:{parent_model:t.closest("form").data("model"),parent_field:t.attr("name"),parent_id:t.closest("form").data("id"),render:!0,_wpnonce:hivepressCoreData.apiNonce},start:function(){t.prop("disabled",!0),r.prop("disabled",!0),r.attr("data-state","loading")},stop:function(){t.prop("disabled",!1),r.prop("disabled",!1),r.attr("data-state","")},done:function(e,a){a.result.hasOwnProperty("data")&&(t.prop("multiple")?n.append(a.result.data.html):n.html(a.result.data.html))}})}),e(document).on("click",hivepress.getSelector("file-delete"),function(t){var a=e(this).parent();e.ajax({url:a.data("url"),method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)}}),a.remove(),t.preventDefault()}),hivepress.getComponent("sortable").each(function(){var t=e(this);t.closest("form");t.sortable({stop:function(){t.children().length>1&&t.children().each(function(t){e.ajax({url:e(this).data("url"),method:"POST",data:{order:t},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)}})})}})}),hivepress.getComponent("range-slider").each(function(){var t=e(this),a=e(this).find("input[type=number]"),r=a.eq(0),n=a.eq(-1),o=null;r.val()||r.val(r.attr("min")),n.val()||n.val(n.attr("max")),(o=e("<div />").appendTo(t).slider({range:!0,min:Number(r.attr("min")),max:Number(n.attr("max")),values:[Number(r.val()),Number(n.val())],slide:function(e,t){r.val(t.values[0]),n.val(t.values[1])}})).wrap("<div />"),a.on("change",function(){r.val()||r.val(r.attr("min")),n.val()||n.val(n.attr("max")),o.slider("values",[Number(r.val()),Number(n.val())])})}),e(window).on("load",function(){e(window).width()>=768&&hivepress.getComponent("sticky").each(function(){var t=e(this),a=32+e("#wpadminbar").height();t.wrapInner("<div />"),t.children("div").stickySidebar({topSpacing:a,bottomSpacing:a})})}),hivepress.getComponent("slider").each(function(){if(e(this).find("img").length>1){var t=e(this),a=t.attr("class").split(" ")[0],r=t.find("img").wrap("<div />").parent().wrapAll("<div />").parent(),n=r.clone();t.html(""),r.appendTo(t),n.appendTo(t),r.addClass(a+"-slider").slick({slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,infinite:!1,arrows:!1,asNavFor:n}),n.addClass(a+"-carousel").slick({slidesToShow:6,slidesToScroll:1,infinite:!1,focusOnSelect:!0,prevArrow:'<div class="slick-arrow slick-prev"><i class="hp-icon fas fa-chevron-left"></i></div>',nextArrow:'<div class="slick-arrow slick-next"><i class="hp-icon fas fa-chevron-right"></i></div>',asNavFor:r,responsive:[{breakpoint:1025,settings:{slidesToShow:5}},{breakpoint:769,settings:{slidesToShow:4}},{breakpoint:481,settings:{slidesToShow:3}}]})}})})}(jQuery);
