var hivepress={getSelector:function(e){return"[data-component="+e+"]"},getComponent:function(e){return jQuery(this.getSelector(e))}};!function(d){"use strict";d(document).ready(function(){hivepress.getComponent("modal").each(function(){var t="#"+d(this).attr("id");d("a[href="+t+"], button[data-url="+t+"]").on("click",function(e){d.fancybox.close(),d.fancybox.open({src:t}),e.preventDefault()})}),hivepress.getComponent("link").on("click",function(e){var t=d(this).data("url");t.startsWith("#")||(window.location.href=t),e.preventDefault()}),hivepress.getComponent("form").each(function(){var a=d(this),r=a.find("[data-element=messages]"),o=r.attr("class").split(" ")[0],n=a.find(".g-recaptcha"),i=d(".g-recaptcha").index(n.get(0)),s=a.find(":submit");!0===a.data("submit")&&a.on("change",function(){a.submit()}),a.on("submit",function(e){r.hide().html("").removeClass(o+"--success "+o+"--error"),s.prop("disabled",!0),s.attr("data-state","loading"),a.data("action")&&(d.ajax({url:a.data("action"),method:a.data("method")?a.data("method"):a.attr("method"),data:a.serializeJSON(),beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",hpCoreFrontendData.apiNonce)},complete:function(e){var t=e.responseJSON;s.prop("disabled",!1),s.attr("data-state",""),"undefined"!=typeof grecaptcha&&n.length&&grecaptcha.reset(i),null===t||t.hasOwnProperty("data")?(a.data("message")&&r.addClass(o+"--success").html("<div>"+a.data("message")+"</div>").show(),a.data("redirect")?!0===a.data("redirect")?window.location.reload(!0):window.location.replace(a.data("redirect")):a.is("[data-id]")||a.trigger("reset")):t.hasOwnProperty("error")&&(t.error.hasOwnProperty("errors")?d.each(t.error.errors,function(e,t){r.append("<div>"+t.message+"</div>")}):t.error.hasOwnProperty("message")&&r.html("<div>"+t.error.message+"</div>"),r.is(":empty")||r.addClass(o+"--error").show()),r.is(":visible")&&a.offset().top<d(window).scrollTop()&&d("html, body").animate({scrollTop:a.offset().top},500)}}),e.preventDefault())})}),hivepress.getComponent("toggle").each(function(){var r=d(this);r.on("click",function(e){var t=r.attr("data-caption"),a=r.find("span");a.length?(r.attr("data-caption",a.text()),a.text(t)):(r.attr("data-caption",r.attr("title")),r.attr("title",t)),"active"!==r.attr("data-state")?r.attr("data-state","active"):r.attr("data-state",""),d.ajax({url:r.data("url"),method:"POST",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",hpCoreFrontendData.apiNonce)}}),e.preventDefault()})}),hivepress.getComponent("file-upload").each(function(){var a=d(this),e=a.closest("label"),t=e.find("button").first(),r=(d("<div />").insertBefore(e),e.parent().children("div").first());a.fileupload({url:a.data("url"),dataType:"json",paramName:"file",formData:{parent_model:a.closest("form").data("model"),parent_field:a.attr("name"),parent_id:a.closest("form").data("id"),render:!0,_wpnonce:hpCoreFrontendData.apiNonce},start:function(){a.prop("disabled",!0),t.prop("disabled",!0),t.attr("data-state","loading")},stop:function(){a.prop("disabled",!1),t.prop("disabled",!1),t.attr("data-state","")},done:function(e,t){t.result.hasOwnProperty("data")&&(a.prop("multiple")?r.append(t.result.data.html):r.html(t.result.data.html))}})}),d(document).on("click",hivepress.getSelector("file-delete"),function(e){var t=d(this).parent();d.ajax({url:t.data("url"),method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",hpCoreFrontendData.apiNonce)}}),t.remove(),e.preventDefault()}),hivepress.getComponent("sortable").each(function(){var e=d(this);e.closest("form");e.sortable({stop:function(){1<e.children().length&&e.children().each(function(e){d.ajax({url:d(this).data("url"),method:"POST",data:{order:e},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",hpCoreFrontendData.apiNonce)}})})}})}),d(window).on("load",function(){hivepress.getComponent("sticky").each(function(){var e=d(this),t=30+d("#wpadminbar").height();e.wrapInner("<div />"),e.children("div").stickySidebar({topSpacing:t,bottomSpacing:t})})}),hivepress.getComponent("slider").each(function(){var e=d(this),t=e.attr("class").split(" ")[0],a=e.find("img"),r=a.wrap("<div />").parent().wrapAll("<div />").parent(),o=r.clone();1<a.length&&(e.html(""),r.appendTo(e),o.appendTo(e),r.addClass(t+"-slider").slick({slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,infinite:!1,arrows:!1,asNavFor:o}),o.addClass(t+"-carousel").slick({slidesToShow:6,slidesToScroll:1,infinite:!1,focusOnSelect:!0,prevArrow:'<div class="slick-arrow slick-prev"><i class="hp-icon fas fa-chevron-left"></i></div>',nextArrow:'<div class="slick-arrow slick-next"><i class="hp-icon fas fa-chevron-right"></i></div>',asNavFor:r,responsive:[{breakpoint:1025,settings:{slidesToShow:5}},{breakpoint:769,settings:{slidesToShow:4}},{breakpoint:481,settings:{slidesToShow:3}}]}))})})}(jQuery);
